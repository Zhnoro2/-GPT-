# 结合专业材料与GPT生成问答对

>在基于已有大语言模型，训练专业领域大模型的过程中，除了通过增量预训练（Continual pre-training）为大模型增加特定领域的知识，以提升专业能力外。通常还需要大模型能够正确理解用户的问题或指令，并给出符合要求的回答格式。这一过程不仅仅依赖于模型对领域知识的掌握，还需要确保模型在理解和生成自然语言方面表现得足够准确和灵活。为了实现这一目标，训练者需要为大模型输入整理好的问答对。通过使用这些问答对材料，模型可以学习如何从用户的问题中提取关键信息，理解问题的意图，并生成相应且符合格式要求的回答。这一过程称为指令微调（Instruction Tuning）。

>人工整理的问答对可能来自于通讯软件中的交流信息，比如邮件、会议记录、聊天信息等，虽然包含专业知识，但也往往存在大量噪音，数据质量难以把握，以及上下文依赖性强、数据分布不平衡等问题。尽管人工整理这些信息并将其转化为需要的问答对是可行的，但效率极低且成本较高。考虑到目前GPT-4的对话能力已非常强大，可以利用其生成的对话作为训练专业大模型的材料。通过调用API，我们可以高效地将专业材料交给GPT-4，生成大量高质量的问答数据，从而为模型的训练提供支持。

## 数据准备
本代码之前用于合同领域的问答对生成，使用的数据包含了两个要素，一个是合同要点，即该部分内容与合同的哪个方面相关，或属于哪个部分；另一个是具体的审查规则，用于明确某个审查点的定义、如何判断是否存在风险等。以下以合同中常见的支付方式为例，后续会展示GPT基于该要点生成的问答对。

![image](https://github.com/user-attachments/assets/4fec875e-5616-49ad-9571-90a75bc9cc9d)

## 代码说明

`GPT-QA-Generating` 使用方法:

```python
#准备工作，导入文件并获取API
import pandas as pd
import re
import os
import openai
from openai import OpenAI
from tqdm import tqdm

#选择文件所在位置，读取原始数据
df=pd.read_excel(r"C:\Users\Desktop\Data.xlsx")

#打印前几行数据以确认读取正确
print(df.head())

#获取已保存在环境变量中的API密钥
client = OpenAI(api_key=os.environ.get("OPENAI_API_KEY"),)

```
